<main>
  <h1 style="color: red; text-align: center">페이지 디버깅 모드</h1>

  {{ $blocks := site.Data.homepage.blocks }} {{ range $i, $block := $blocks }}
  <div
    style="
      border: 2px solid red;
      margin: 20px;
      padding: 10px;
      background-color: #f9f9f9;
    "
  >
    <h3>--- {{ add $i 1 }}번째 블록 디버깅 시작 ---</h3>

    {{ $folderPath := .content.filters.folder }}
    <p>
      <strong>1. YAML에 설정된 폴더 경로:</strong>
      <code>{{ $folderPath }}</code>
    </p>

    {{ $filteredPages := where site.RegularPages ".File.Dir" "startswith"
    $folderPath }}
    <p>
      <strong>2. 위 경로에서 찾은 글의 개수:</strong>
      <code>{{ len $filteredPages }}</code>
    </p>

    <p><strong>3. 찾은 글 목록 (제목과 실제 파일 경로):</strong></p>
    <ul>
      {{ range $filteredPages }}
      <li>{{ .Title }} (파일 위치: <code>{{ .File.Path }}</code>)</li>
      {{ else }}
      <li>
        <strong>⚠️ 경고: 이 폴더에서 글을 하나도 찾지 못했습니다!</strong>
      </li>
      {{ end }}
    </ul>
    <h3>--- 디버깅 끝 ---</h3>
  </div>
  {{ end }}
</main>
